---
title: Arch Linux 备份、加密、还原教程
date: '2021-10-24'
linkTitle: https://cyrusyip.org/post/2021/10/24/arch-linux-backup-encryption-tutorial/
source: Posts on Cyrus Yip | 叶寻
description: |-
  <p>最近想加密笔记本电脑的硬盘，一般硬盘加密都是在安装系统前做的，但是我的笔记本已经装上 Arch Linux 了。我刚好有个闲置的移动硬盘，于是我就想到了办法：</p>
  <ol>
  <li>备份系统到移动硬盘</li>
  <li>加密笔记本硬盘</li>
  <li>还原系统</li>
  <li>重装引导程序</li>
  </ol>
  <h1 id="准备">准备</h1>
  <ol>
  <li>待加密的电脑</li>
  <li>移动硬盘</li>
  <li>刷入 Arch Linux 安装镜像的 U 盘（推荐用 Ventoy 刷入镜像）</li>
  <li>网络</li>
  </ol>
  <p>备份、还原和写入空数据会花费比较多时间，建议准备 1 天的时间慢慢弄，等待的时候就去干点别的事。请谨慎操作，要是你打错命令（比如：格式化分区时搞错了），可能会丢失数据。可以先在虚拟机练习，弄坏也没关系。用于备份的移动硬盘也加密才是真的安全，为了简化文章，我就忽略这部分了。后面写的加密方法一样适用于移动硬盘。本文适用于 UEFI + GPT。</p>
  <h1 id="扩大-efi-分区可略过">扩大 EFI 分区（可略过）</h1>
  <p>如果你把 EFI 分区挂载到 <code>/efi</code>，那么只需要把引 ...
disable_comments: true
---
<p>最近想加密笔记本电脑的硬盘，一般硬盘加密都是在安装系统前做的，但是我的笔记本已经装上 Arch Linux 了。我刚好有个闲置的移动硬盘，于是我就想到了办法：</p>
<ol>
<li>备份系统到移动硬盘</li>
<li>加密笔记本硬盘</li>
<li>还原系统</li>
<li>重装引导程序</li>
</ol>
<h1 id="准备">准备</h1>
<ol>
<li>待加密的电脑</li>
<li>移动硬盘</li>
<li>刷入 Arch Linux 安装镜像的 U 盘（推荐用 Ventoy 刷入镜像）</li>
<li>网络</li>
</ol>
<p>备份、还原和写入空数据会花费比较多时间，建议准备 1 天的时间慢慢弄，等待的时候就去干点别的事。请谨慎操作，要是你打错命令（比如：格式化分区时搞错了），可能会丢失数据。可以先在虚拟机练习，弄坏也没关系。用于备份的移动硬盘也加密才是真的安全，为了简化文章，我就忽略这部分了。后面写的加密方法一样适用于移动硬盘。本文适用于 UEFI + GPT。</p>
<h1 id="扩大-efi-分区可略过">扩大 EFI 分区（可略过）</h1>
<p>如果你把 EFI 分区挂载到 <code>/efi</code>，那么只需要把引 ...