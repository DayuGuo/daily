---
title: 码力之抽象力
date: '2018-04-06'
linkTitle: https://yihui.name/cn/2018/04/abstract-code/
source: Homepage on Yihui Xie | 谢益辉
description: "\n        \n\n<p>前天我收了一个 <a href=\"https://github.com/rstudio/bookdown/pull/561/files\">bookdown
  的合并请求</a>，其代码是正确的，但反映出一个很普遍的代码问题：冗余。代码是否冗余，一般不需要仔细看，只要表面上扫一眼，看看是不是有类似的代码在不断重复即可。这个例子很典型，以前我也碰到过不少，不过一直都没写下来。一眼望去，if-else
  语句里全都是调用同一个函数 <code>list.files()</code>，不同的只是参数取值。</p>\n\n<pre><code class=\"language-r\">if
  (isTRUE(config[['rmd_subdir']])) {\n  files = list.files(\n    '.', '[.]Rmd$', ignore.case
  = TRUE, recursive = TRUE\n    )\n} else if (is.character(config[['rmd_subdir']]))
  {\n  files = list.files(\n    c"
---
